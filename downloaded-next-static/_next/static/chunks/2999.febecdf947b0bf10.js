"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2999],{46614:function(e,l,a){var i=a(18992),d=a(27484),s=a.n(d);let t="/api/v1";l.Z={find:async(e,l,a,d,o,n,r,c,u,v,h,m,x,g,j)=>{try{var p,y;let b=await i.Z.get("".concat(t,"/delivery"),{params:{startLimit:e,endLimit:l,order:a,sort:d,search:o,value:n,startDate:r?s()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:c?s()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,value1:v,value2:h,order1:m,order2:x,action:g,type:j}});return{success:!0,data:null==b?void 0:null===(p=b.data)||void 0===p?void 0:p.data,pagination:null==b?void 0:null===(y=b.data)||void 0===y?void 0:y.pagination}}catch(e){return{success:!1,e}}},findWithArchive:async(e,l,a,d,o,n,r,c,u,v,h,m,x,g)=>{try{var j,p;let y=await i.Z.get("".concat(t,"/deliveryWithArchive"),{params:{startLimit:e,endLimit:l,order:a,sort:d,search:o,value:n,startDate:r?s()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:c?s()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,value1:v,value2:h,order1:m,order2:x,action:g}});return{success:!0,data:null==y?void 0:null===(j=y.data)||void 0===j?void 0:j.data,pagination:null==y?void 0:null===(p=y.data)||void 0===p?void 0:p.pagination}}catch(e){return{success:!1,e}}},find_items_by_id:async e=>{var l,a,d,s,o;try{let a=await i.Z.get("".concat(t,"/getDelivery_items_by_id"),{params:{id:e}});return{success:!0,data:null==a?void 0:null===(l=a.data)||void 0===l?void 0:l.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(a=d.data)||void 0===a?void 0:a.error)||(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.message)}}},getDelivery_items:async(e,l,a,d,s,o)=>{try{var n,r;let c=await i.Z.get("".concat(t,"/getDelivery_items"),{params:{startLimit:e,endLimit:l,order:a,sort:d,search:s,groupBy:o}});return{success:!0,data:null==c?void 0:null===(n=c.data)||void 0===n?void 0:n.data,pagination:null==c?void 0:null===(r=c.data)||void 0===r?void 0:r.pagination}}catch(e){return{success:!1,e}}},create:async(e,l)=>{var a,d,s,o,n;try{let d=await i.Z.post("".concat(t,"/createDelivery"),{...e,staff:l});return{success:!0,data:null==d?void 0:null===(a=d.data)||void 0===a?void 0:a.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(d=s.data)||void 0===d?void 0:d.error)||(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.message)}}},edit:async(e,l,a)=>{var d,s,o,n,r;try{let s=await i.Z.patch("".concat(t,"/editDelivery"),{id:e,...l,staff:a});return{success:!0,data:null==s?void 0:null===(d=s.data)||void 0===d?void 0:d.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},editReceivedMoney:async(e,l,a)=>{var d,s,o,n,r;try{let s=await i.Z.patch("".concat(t,"/editReceivedMoney"),{id:e,money:l,staff:a});return{success:!0,data:null==s?void 0:null===(d=s.data)||void 0===d?void 0:d.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},editDesc:async(e,l,a)=>{var d,s,o,n,r;try{let s=await i.Z.patch("".concat(t,"/editDesc"),{id:e,desc:l,field:a});return{success:!0,data:null==s?void 0:null===(d=s.data)||void 0===d?void 0:d.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},verify:async(e,l,a)=>{var d,s,o,n,r;try{let s=await i.Z.patch("".concat(t,"/verify"),{id:e,verify:l,staff:a});return{success:!0,data:null==s?void 0:null===(d=s.data)||void 0===d?void 0:d.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},getDeliveryrCustomer:async(e,l,a,d,o,n,r,c,u,v,h,m)=>{try{var x,g;let j=await i.Z.get("".concat(t,"/getDeliveryCustomer"),{params:{startLimit:e,endLimit:l,order:a,sort:d,search:o,value:n,startDate:r?s()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:c?s()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,id:v,action:h,type:m}});return{success:!0,data:null==j?void 0:null===(x=j.data)||void 0===x?void 0:x.data,pagination:null==j?void 0:null===(g=j.data)||void 0===g?void 0:g.pagination}}catch(e){return{success:!1,e}}},importExcel:async(e,l)=>{var a,d,s,o,n,r;try{let s=new FormData;s.append("excelFile",e);let o=await i.Z.post("".concat(t,"/uploadExcelFile"),s,{params:{staff:l}});return{status:null==o?void 0:null===(a=o.data)||void 0===a?void 0:a.status,message:null==o?void 0:null===(d=o.data)||void 0===d?void 0:d.message}}catch(e){return{status:null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.status,message:null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message}}},bulkPrint:async e=>{try{var l,a;let d=await i.Z.post("".concat(t,"/changeStatusQR"),{params:{id:e}});return{success:!0,data:null==d?void 0:null===(l=d.data)||void 0===l?void 0:l.data,pagination:null==d?void 0:null===(a=d.data)||void 0===a?void 0:a.pagination}}catch(e){return{success:!1,e}}},checkDeliveryList:async(e,l,a)=>{try{var d,s;let o=await i.Z.get("".concat(t,"/checkDelivery"),{params:{startLimit:e,endLimit:l,search:a}});return{success:!0,data:null==o?void 0:null===(d=o.data)||void 0===d?void 0:d.data,pagination:null==o?void 0:null===(s=o.data)||void 0===s?void 0:s.pagination}}catch(e){return{success:!1,e}}}}},62999:function(e,l,a){a.r(l);var i=a(85893),d=a(86414),s=a(47181),t=a(102),o=a(36616),n=a(23583),r=a(95085),c=a(90303),u=a(96034),v=a(95601),h=a(92256),m=a(15779),x=a(95124),g=a(67294),j=a(79153),p=a(85158),y=a(11163),b=a(60946),f=a(53907),w=a(88767),D=a(27484),C=a.n(D),N=a(26148),_=a(60894),T=a(87412),A=a(59142),Y=a(46614),S=a(69505),k=a(54073),Z=a(43681),F=a(72372);l.default=e=>{var l,a,D,M,P,E,Q,z,R,H,L;let{title:W,type:I}=e,[q,V]=(0,g.useState)([]),[X,B]=(0,g.useState)(!1),[U,G]=(0,g.useState)(!1),[J,K]=(0,g.useState)(""),O=(0,y.useRouter)(),[$,ee]=(0,g.useState)(100),[el,ea]=(0,g.useState)(0),[ei,ed]=(0,g.useState)(0),[es,et]=(0,g.useState)(""),[eo,en]=(0,g.useState)("asc"),[er,ec]=(0,g.useState)(""),[eu]=(0,f.c)(er,200),[ev,eh]=(0,g.useState)(null),[em,ex]=(0,g.useState)(null),[eg,ej]=(0,g.useState)(!1),{user:ep}=(0,Z.a)(),[ey,eb]=(0,g.useState)(""),[ef,ew]=(0,g.useState)(""),[eD,eC]=(0,g.useState)(""),[eN,e_]=(0,g.useState)(""),[eT,eA]=(0,g.useState)(""),[eY,eS]=(0,g.useState)(0),{data:ek,refetch:eZ,isLoading:eF,isFetching:eM}=(0,w.useQuery)(["delivery-list",$,el,es,eo,eu,J,ev,em,ey,ef,eY,I],()=>Y.Z.find(ei,$,es,eo,eu,J,ev,em,100,ey,ef,eD,eN,eY,I),{enabled:(null==ep?void 0:ep.role)==="admin"||(null==ep?void 0:ep.role)=="manager"||(null==ep?void 0:ep.role)==="operator"||(null==ep?void 0:ep.role)==="nyagtlan"}),{data:eP,isLoading:eE,refetch:eQ}=(0,w.useQuery)(["customer-by-id-delivery",$,el,es,eo,eu,J,ev,em,ep,eY,I],()=>Y.Z.getDeliveryrCustomer(ei,$,es,eo,eu,J,ev,em,100,null==ep?void 0:ep.user_id,eY,I),{enabled:(null==ep?void 0:ep.role)=="customer"}),{data:ez}=(0,w.useQuery)(["region-list"],()=>_.Z.find(),{enabled:(null==ep?void 0:ep.role)!="customer",staleTime:6e5,cacheTime:12e5}),{data:eR}=(0,w.useQuery)(["user-list"],()=>N.Z.find(),{enabled:eT.length>2,staleTime:6e5,cacheTime:12e5}),{data:eH}=(0,w.useQuery)(["driver-list"],()=>N.Z.getDriver(),{enabled:(null==ep?void 0:ep.role)!="customer",staleTime:6e5,cacheTime:12e5}),handleCheckboxChange=e=>{V(l=>{if("selectAll"===e){var a,i,d,s,t,o;return l.length<((null==ek?void 0:null===(i=ek.data)||void 0===i?void 0:null===(a=i.result)||void 0===a?void 0:a.length)||(null==eP?void 0:null===(s=eP.data)||void 0===s?void 0:null===(d=s.result)||void 0===d?void 0:d.length))?((null==ek?void 0:null===(t=ek.data)||void 0===t?void 0:t.result)||(null==eP?void 0:null===(o=eP.data)||void 0===o?void 0:o.result)).map(e=>e.id):[]}return l.includes(e)?l.filter(l=>l!==e):[...l,e]})},{data:eL}=(0,w.useQuery)(["selected-data-delivery",q,eY],()=>F.Z.findDelivery(q,eY),{enabled:(null==q?void 0:q.length)>0}),getProductNames=e=>{var l,a,i;let d=((null==q?void 0:q.length)>0?null==eL?void 0:null===(l=eL.data)||void 0===l?void 0:l.resultItem:(null==ek?void 0:null===(a=ek.data)||void 0===a?void 0:a.resultItem)||(null==eP?void 0:null===(i=eP.data)||void 0===i?void 0:i.resultItem)||[]).filter(l=>(null==l?void 0:l.delivery_id)==e).map(e=>"".concat(null==e?void 0:e.name," - ").concat(null==e?void 0:e.quantity));return d.join(", ")};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"bg-white rounded-xl p-3",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)(b.bo,{text:W}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsx)(d.o,{className:"w-96",placeholder:"Хайх ...",value:er,onChange:e=>{ec(e.target.value)},rightSection:(0,i.jsx)(j.Z,{color:"#6A5ADF",className:"cursor-pointer"})}),(0,i.jsx)(A.Z,{setAction:eS,data:(null==q?void 0:q.length)>0?q:(null==ek?void 0:ek.data)||(null==eP?void 0:eP.data),select:(null==q?void 0:q.length)>0}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(s.z,{color:"#6A5ADF",radius:9,leftSection:(0,i.jsx)("img",{src:"/icons/excel.svg",alt:"excel"}),onClick:()=>{ej(e=>!e),eS(1)},children:"Excel"}),(0,i.jsx)(t.U,{in:eg,className:"absolute right-0 rounded-lg border border-indigo-300 space-y-2 p-3 w-44 h-auto bg-white z-40 font-bold text-sm text-indigo-600",children:(0,i.jsxs)("button",{disabled:eF||eM,className:"flex items-center space-x-2 mb-2 pb-2 border-b cursor-pointer",onClick:()=>{var e,l,a;return(0,b.pq)("delivery-excel",((null==q?void 0:q.length)>0?null==eL?void 0:null===(e=eL.data)||void 0===e?void 0:e.result:(null==ek?void 0:null===(l=ek.data)||void 0===l?void 0:l.result)||(null==eP?void 0:null===(a=eP.data)||void 0===a?void 0:a.result)).map(e=>({Дэлгүүрийн_нэр:e.shop_name,Нэр:e.cus_name,Утас:e.cus_phone,Хаяг:"".concat(e.city?null==e?void 0:e.city:""," ").concat(e.district?null==e?void 0:e.district:""," ").concat(e.committee?null==e?void 0:e.committee:""," ").concat(e.street?e.street:""," ").concat(e.toot?null==e?void 0:e.toot:""," ").concat(e.addition?null==e?void 0:e.addition:""),Төлөв:1==e.status?"Бүртгэгдсэн":2==e.status?"Хүлээн авсан":3==e.status?"Жолоочид хувиарласан":5==e.status?"Хүлээгдэж буй":10==e.status?"Хүргэгдсэн":11==e.status?"Цуцалсан":12==e.status?"Буцаасан":null,Үүсгэсэн:C()(e.created_at||"").format("YYYY-MM-DD HH:mm")||"",Төрөл:e.type,Барааны_төрөл:e.item_type,Тайлбар:e.deli_desc||"",Бараа:getProductNames(e.code)})))},children:[(0,i.jsx)("img",{src:"/icons/excel-color.svg",alt:"icon"}),(0,i.jsx)("p",{children:"Export to Excel"})]})})]}),(0,i.jsx)(s.z,{color:"#6A5ADF",radius:9,leftSection:(0,i.jsx)("img",{src:"/icons/plus.svg",alt:"plus"}),onClick:()=>O.push("/delivery/create"),children:"Шинэ хүргэлт бүртгэх"})]})]}),(0,i.jsx)("div",{className:"border-b border-[#6A5ADF] w-full mt-2 mb-1"}),(0,i.jsxs)("div",{className:"relative flex items-center mr-12 gap-4",children:[(0,i.jsx)("div",{className:"text-sm",children:(0,i.jsx)(k.W,{label:"Эхлэх огноо",placeholder:"yyyy-mm-dd",valueFormat:"YYYY-MM-DD",value:ev,onChange:eh,clearable:!0})}),(0,i.jsx)("div",{className:"text-sm",children:(0,i.jsx)(k.W,{label:"Дуусах огноо",placeholder:"yyyy-mm-dd",valueFormat:"YYYY-MM-DD",value:em,onChange:ex,clearable:!0})}),(0,i.jsx)(o.P,{label:"Төлөв",data:[{label:"Бүгд",value:""},{label:"Бүртгэгдсэн",value:"1"},{label:"Хүлээн авсан",value:"2"},{label:"Жолоочид хуваарилсан",value:"3"},{label:"Хүлээгдэж буй",value:"5"},{label:"Хүргэгдсэн",value:"10"},{label:"Цуцалсан",value:"11"},{label:"Буцаасан",value:"12"}].map(e=>({value:null==e?void 0:e.value.toString(),label:(null==e?void 0:e.label)||""})),onChange:e=>{et("delivery.status"),eC("delivery.status"),K(e),eb(e),en("")},clearable:!0,placeholder:"Бүгд"}),(null==ep?void 0:ep.role)!=="customer"&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.P,{label:"Бүс",data:((null==ez?void 0:ez.data)||[]).map(e=>({value:null==e?void 0:e.name.toString(),label:(null==e?void 0:e.name)||""})),onChange:e=>{et("delivery.region"),K(e),eb(""),ew(""),en("")},clearable:!0,placeholder:"Бүгд"}),(0,i.jsx)(o.P,{label:"Жолооч",searchable:!0,clearable:!0,data:((null==eH?void 0:eH.data)||[]).map(e=>({value:null==e?void 0:e.driver_name.toString(),label:(null==e?void 0:e.driver_name)||""})),onChange:e=>{et("delivery.driver_name"),K(e),eb(""),ew(""),en("")},placeholder:"Бүгд"}),(0,i.jsx)(o.P,{label:"Харилцагч",searchable:!0,data:((null==eR?void 0:eR.data)||[]).filter(e=>(null==e?void 0:e.role)==="customer").map(e=>({value:null==e?void 0:e.shop_name.toString(),label:(null==e?void 0:e.shop_name)||""})),onSearchChange:e=>{eA(e)},onChange:e=>{et("users.shop_name"),e_("users.shop_name"),ew(e),K(e),en("")},clearable:!0,placeholder:"Бүгд"})]}),(0,i.jsx)(n.u,{label:"Шүүлтүүр цэвэрлэх",children:(0,i.jsx)("div",{className:"mt-6 cursor-pointer p-1 rounded-sm border",onClick:()=>{et(""),en(""),K(""),eh(null),ex(null),O.reload()},children:(0,i.jsx)("img",{src:"/icons/filter-clear.svg",alt:"filterClear"})})})]}),(0,i.jsx)("div",{className:"border-1 border-b border-[#6A5ADF] mt-2"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(r.f,{visible:(null==ep?void 0:ep.role)==="customer"?eE:eF}),(0,i.jsx)(c.x,{className:"h-[70vh]",color:"#6A5ADF",children:(0,i.jsxs)(u.i,{children:[(0,i.jsx)(u.i.Thead,{className:"sticky top-0 bg-white z-40",children:(0,i.jsxs)(u.i.Tr,{children:[(0,i.jsx)(u.i.Th,{className:"sticky left-0 bg-white",children:(0,i.jsx)(v.X,{checked:q.length===((null==ek?void 0:null===(a=ek.data)||void 0===a?void 0:null===(l=a.result)||void 0===l?void 0:l.length)||(null==eP?void 0:null===(M=eP.data)||void 0===M?void 0:null===(D=M.result)||void 0===D?void 0:D.length)),onChange:()=>handleCheckboxChange("selectAll"),color:"#6A5ADF"})}),(0,i.jsx)(u.i.Th,{children:"#"}),(0,i.jsx)(u.i.Th,{miw:150,children:(0,i.jsxs)("div",{className:"flex justify-between",children:["Огноо",(0,i.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{et("delivery.created_at"),"desc"===eo?en("asc"):en("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,i.jsx)(u.i.Th,{miw:140,children:(0,i.jsxs)("div",{className:"flex justify-between",children:["Харилцагч",(0,i.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{et("users.shop_name"),"desc"===eo?en("asc"):en("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,i.jsx)(u.i.Th,{miw:100,children:(0,i.jsxs)("div",{className:"flex justify-between",children:["Утас",(0,i.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{et("delvery.cus_phone"),"desc"===eo?en("asc"):en("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,i.jsx)(u.i.Th,{miw:300,children:(0,i.jsxs)("div",{className:"flex justify-between",children:["Хаяг",(0,i.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{et("delivery.district"),"desc"===eo?en("asc"):en("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,i.jsx)(u.i.Th,{miw:100,children:(0,i.jsxs)("div",{className:"flex justify-between",children:["Үнэ",(0,i.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{et("delivery.total_price"),"desc"===eo?en("asc"):en("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,i.jsx)(u.i.Th,{miw:140,children:(0,i.jsxs)("div",{className:"flex justify-between",children:["Авсан мөнгө",(0,i.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{et("delivery.received_money"),"desc"===eo?en("asc"):en("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(null==ep?void 0:ep.role)!=="customer"&&(0,i.jsx)(u.i.Th,{miw:100,children:(0,i.jsxs)("div",{className:"flex justify-between",children:["Жолооч",(0,i.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{et("delivery.driver_name"),"desc"===eo?en("asc"):en("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,i.jsx)(u.i.Th,{miw:90,children:"Төлөв"}),(0,i.jsx)(u.i.Th,{miw:100,children:"Баталгаажуулсан"}),(0,i.jsx)(u.i.Th,{miw:150,children:"Жолооч тайлан"}),(0,i.jsx)(u.i.Th,{miw:160,children:"Харилцагч тайлан"}),(0,i.jsx)(u.i.Th,{miw:160,children:"Мессеж үйлчилгээ"}),((null==ep?void 0:ep.role)==="admin"||(null==ep?void 0:ep.role)==="customer"||(null==ep?void 0:ep.role)==="manager"||(null==ep?void 0:ep.role)==="operator"||(null==ep?void 0:ep.role)==="nyagtlan")&&(0,i.jsx)(u.i.Th,{className:"sticky right-0 bg-white",children:"Үйлдэл"})]})}),(0,i.jsx)(u.i.Tbody,{children:(null==ek?void 0:null===(E=ek.data)||void 0===E?void 0:null===(P=E.result)||void 0===P?void 0:P.length)||(null==eP?void 0:null===(z=eP.data)||void 0===z?void 0:null===(Q=z.result)||void 0===Q?void 0:Q.length)>0?null===(R=(null==ek?void 0:null===(H=ek.data)||void 0===H?void 0:H.result)||(null==eP?void 0:null===(L=eP.data)||void 0===L?void 0:L.result))||void 0===R?void 0:R.map((e,l)=>(0,i.jsxs)(u.i.Tr,{children:[(0,i.jsx)(u.i.Td,{className:"sticky left-0 bg-white",children:(0,i.jsx)(v.X,{color:"#6A5ADF",checked:q.includes(null==e?void 0:e.id),onChange:()=>handleCheckboxChange(null==e?void 0:e.id)})}),(0,i.jsx)(u.i.Td,{children:l+1}),(0,i.jsx)(u.i.Td,{children:C()(null==e?void 0:e.created_at).format("YYYY/MM/DD HH:mm")}),(0,i.jsx)(u.i.Td,{maw:200,children:null==e?void 0:e.shop_name}),(0,i.jsx)(u.i.Td,{maw:200,children:null==e?void 0:e.cus_phone}),(0,i.jsx)(u.i.Td,{maw:200,children:"".concat((null==e?void 0:e.city)||""," ").concat((null==e?void 0:e.district)||""," ").concat((null==e?void 0:e.committee)||""," ").concat((null==e?void 0:e.town)||""," ").concat((null==e?void 0:e.street)||""," ").concat((null==e?void 0:e.toot)||""," ").concat((null==e?void 0:e.addition)||"")}),(0,i.jsx)(u.i.Td,{maw:100,children:(0,b.uf)(null==e?void 0:e.total_price)}),(0,i.jsx)(u.i.Td,{maw:100,children:(0,b.uf)(null==e?void 0:e.received_money)}),(null==ep?void 0:ep.role)!=="customer"&&(0,i.jsx)(u.i.Td,{maw:200,children:null==e?void 0:e.driver_name}),(0,i.jsx)(u.i.Td,{children:(null==e?void 0:e.status)==1?(0,i.jsx)(h.C,{color:"#6A5ADF",children:"Бүртгэгдсэн"}):(null==e?void 0:e.status)==2?(0,i.jsx)(h.C,{color:"#6A5ADF",children:"Хүлээн авсан"}):(null==e?void 0:e.status)==5?(0,i.jsx)(h.C,{color:"black",children:"Хүлээгдэж буй"}):(null==e?void 0:e.status)==3?(0,i.jsx)(h.C,{color:"yellow",children:"Жолоочид хуваарилсан"}):(null==e?void 0:e.status)==10?(0,i.jsx)(h.C,{color:"green",children:"Хүргэгдсэн"}):(null==e?void 0:e.status)==11?(0,i.jsx)(h.C,{color:"#F5627E",children:"Цуцалсан"}):(null==e?void 0:e.status)==12?(0,i.jsx)(h.C,{color:"#FB4242",children:"Буцаасан"}):null}),(0,i.jsx)(u.i.Td,{children:(null==e?void 0:e.verify)===1?(0,i.jsx)(h.C,{color:"blue",children:"Тийм"}):(0,i.jsx)(h.C,{color:"red",children:"Үгүй"})}),(0,i.jsx)(u.i.Td,{children:(null==e?void 0:e.reported)===1?(0,i.jsx)(h.C,{color:"blue",children:"Тийм"}):(0,i.jsx)(h.C,{color:"red",children:"Үгүй"})}),(0,i.jsx)(u.i.Td,{children:(null==e?void 0:e.reported_cus)===1?(0,i.jsx)(h.C,{color:"blue",children:"Тийм"}):(0,i.jsx)(h.C,{color:"red",children:"Үгүй"})}),(0,i.jsx)(u.i.Td,{children:1==e.send_message?(0,i.jsx)(h.C,{color:"green",children:"Тийм"}):(0,i.jsx)(h.C,{color:"red",children:"Үгүй"})}),((null==ep?void 0:ep.role)==="admin"||(null==ep?void 0:ep.role)==="customer"||(null==ep?void 0:ep.role)==="manager"||(null==ep?void 0:ep.role)==="operator"||(null==ep?void 0:ep.role)==="nyagtlan")&&(0,i.jsx)(u.i.Td,{className:"flex justify-center items-center space-x-2 sticky right-0 bg-white",children:(0,i.jsx)(m.A,{color:"yellow",onClick:()=>O.push("/delivery/".concat(null==e?void 0:e.id,"/",!1)),children:(0,i.jsx)(n.u,{label:"Дэлгэрэнгүй харах",children:(0,i.jsx)(p.Z,{})})})})]},"orderData-".concat(l))):(0,i.jsx)(u.i.Tr,{children:(0,i.jsx)(u.i.Td,{colSpan:12,className:"text-center",children:"Мэдээлэл олдсонгүй"})})})]})}),(0,i.jsx)("div",{className:"border-b border-[#6A5ADF] w-full my-1"}),(0,i.jsxs)("div",{className:"flex justify-between items-center my-1",children:[(0,i.jsxs)("p",{className:"text-sm text-[#6A5ADF]",children:["Нийт ",null==q?void 0:q.length," мөр сонгосон байна"]}),(0,i.jsxs)("p",{className:"flex items-center text-sm text-[#6A5ADF]",children:["Нэг хуудсанд харуулах мөрийн тоо",(0,i.jsxs)("select",{className:"w-12 rounded-md ml-2 pl-0.5 h-6 border border-[#6A5ADF]",onChange:e=>{ee(e.target.value),ea(0),ed(0)},children:[(0,i.jsx)("option",{value:"100",children:"100"}),(0,i.jsx)("option",{value:"250",children:"250"}),(0,i.jsx)("option",{value:"500",children:"500"}),(0,i.jsx)("option",{value:"1000",children:"1000"})]})]})]}),(0,i.jsxs)("div",{className:"flex mt-4 items-center justify-between",children:[(0,i.jsx)("div",{className:"flex space-x-3",children:((null==ep?void 0:ep.role)==="admin"||(null==ep?void 0:ep.role)==="manager"||(null==ep?void 0:ep.role)=="operator")&&(0,i.jsx)(s.z,{leftSection:(0,i.jsx)("img",{src:"/icons/list.svg",alt:"list"}),color:"#6A5ADF",radius:9,onClick:()=>B(!0),disabled:q.length<=0,children:"Төлөв солих"})}),(0,i.jsx)(x.t,{value:el+1,siblings:2,total:Math.floor(((null==ek?void 0:ek.pagination)||(null==eP?void 0:eP.pagination))/$)+(((null==ek?void 0:ek.pagination)||(null==eP?void 0:eP.pagination))%$==0?0:1),onChange:e=>{ea(e-1),ed(e*$-$)},color:"#6A5ADF"})]})]}),(0,i.jsx)(S.Z,{opened:U,onClose:()=>G(!1),select:q,refetch:eZ,setSelect:V,data:null==ez?void 0:ez.data,table:"delivery"}),(0,i.jsx)(T.Z,{table:"delivery",opened:X,onClose:()=>B(!1),select:q,setSelect:V,refetch:eZ,data:[{label:"Хүлээн авсан",value:2}]})]})})}},69505:function(e,l,a){var i=a(85893),d=a(98298),s=a(43681),t=a(60946),o=a(42099),n=a(36616),r=a(70140),c=a(47181),u=a(88198),v=a(67294),h=a(88767);l.Z=e=>{var l;let{opened:a,onClose:m,select:x,refetch:g,setSelect:j,data:p,table:y}=e,[b,f]=(0,v.useState)(),{user:w}=(0,s.a)(),D=(0,h.useMutation)(["change-region"],()=>d.Z.changeRegion(x,b,y,null==w?void 0:w.last_name),{onSuccess(e){(null==e?void 0:e.success)===!0?(g(),m(),j([]),(0,t.PV)({message:"Бүс солигдлоо",status:!0})):(0,t.PV)({message:null==e?void 0:e.e,status:!1})}}),handleSumit=()=>{D.mutateAsync()};return(0,i.jsxs)(o.u,{opened:a,onClose:m,title:"Бүс солих",className:"space-y-10",children:[(0,i.jsx)(n.P,{label:"Бүсүүд",searchable:!0,clearable:!0,placeholder:"Бүс сонгоно уу",data:null===(l=p||[])||void 0===l?void 0:l.map(e=>{var l;return{value:null==e?void 0:null===(l=e.name)||void 0===l?void 0:l.toString(),label:(null==e?void 0:e.name)||""}}),onChange:e=>f(e)}),(0,i.jsx)(r.Z,{justify:"end",children:(0,i.jsx)(c.z,{leftSection:(0,i.jsx)(u.Z,{}),color:"#6A5ADF",radius:"md",className:"mt-4",type:"submit",disabled:null==D?void 0:D.isLoading,loading:null==D?void 0:D.isLoading,onClick:()=>handleSumit(),children:"Хадгалах"})})]})}}}]);