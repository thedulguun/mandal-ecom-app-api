"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4864],{98298:function(a,l,e){var t=e(18992),d=e(27484),n=e.n(d);let o="/api/v1";l.Z={find:async(a,l,e,d,i,s,r,u,v)=>{try{var c,p;let g=await t.Z.get("".concat(o,"/order"),{params:{startLimit:a,endLimit:l,order:e,sort:d,search:i,value:s,startDate:r?n()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:u?n()(u).format("YYYY-MM-DD 23:59:59"):null,status:v}});return{success:!0,data:null==g?void 0:null===(c=g.data)||void 0===c?void 0:c.data,pagination:null==g?void 0:null===(p=g.data)||void 0===p?void 0:p.pagination}}catch(a){return{success:!1,e:a}}},findArchive:async(a,l,e,d,i,s,r,u)=>{try{var v,c;let p=await t.Z.get("".concat(o,"/orderArchive"),{params:{startLimit:a,endLimit:l,order:e,sort:d,search:i,value:s,startDate:r?n()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:u?n()(u).format("YYYY-MM-DD 23:59:59"):null}});return{success:!0,data:null==p?void 0:null===(v=p.data)||void 0===v?void 0:v.data,pagination:null==p?void 0:null===(c=p.data)||void 0===c?void 0:c.pagination}}catch(a){return{success:!1,e:a}}},create:async(a,l)=>{var e,d,n,i,s;try{let d=await t.Z.post("".concat(o,"/createOrder"),{...a,staff:l});return{success:!0,data:null==d?void 0:null===(e=d.data)||void 0===e?void 0:e.data}}catch(a){return{success:!1,e:(null==a?void 0:null===(n=a.response)||void 0===n?void 0:null===(d=n.data)||void 0===d?void 0:d.error)||(null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.message)}}},receivedDriver:async(a,l,e,d,i,s,r,u)=>{var v,c,p,g,h,m;try{let p=await t.Z.get("".concat(o,"/receivedDriver"),{params:{startLimit:a,endLimit:l,order:e,sort:d,search:i,value:s,startDate:r?n()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:u?n()(u).format("YYYY-MM-DD 23:59:59"):null}});return{success:!0,data:null==p?void 0:null===(v=p.data)||void 0===v?void 0:v.data,pagination:null==p?void 0:null===(c=p.data)||void 0===c?void 0:c.pagination}}catch(a){return{success:!1,e:(null==a?void 0:null===(g=a.response)||void 0===g?void 0:null===(p=g.data)||void 0===p?void 0:p.error)||(null==a?void 0:null===(m=a.response)||void 0===m?void 0:null===(h=m.data)||void 0===h?void 0:h.message)}}},finishedOrder:async(a,l,e,d,n,i)=>{var s,r,u,v,c,p;try{let u=await t.Z.get("".concat(o,"/finishedOrder"),{params:{startLimit:a,endLimit:l,order:e,sort:d,search:n,value:i}});return{success:!0,data:null==u?void 0:null===(s=u.data)||void 0===s?void 0:s.data,pagination:null==u?void 0:null===(r=u.data)||void 0===r?void 0:r.pagination}}catch(a){return{success:!1,e:(null==a?void 0:null===(v=a.response)||void 0===v?void 0:null===(u=v.data)||void 0===u?void 0:u.error)||(null==a?void 0:null===(p=a.response)||void 0===p?void 0:null===(c=p.data)||void 0===c?void 0:c.message)}}},report:async(a,l,e,d,i,s,r,u)=>{var v,c,p,g,h,m;try{let p=await t.Z.get("".concat(o,"/reportOrder"),{params:{startLimit:a,endLimit:l,order:e,sort:d,search:i,value:s,startDate:r?n()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:u?n()(u).format("YYYY-MM-DD 23:59:59"):null}});return{success:!0,data:null==p?void 0:null===(v=p.data)||void 0===v?void 0:v.data,pagination:null==p?void 0:null===(c=p.data)||void 0===c?void 0:c.pagination}}catch(a){return{success:!1,e:(null==a?void 0:null===(g=a.response)||void 0===g?void 0:null===(p=g.data)||void 0===p?void 0:p.error)||(null==a?void 0:null===(m=a.response)||void 0===m?void 0:null===(h=m.data)||void 0===h?void 0:h.message)}}},changeDriver:async(a,l,e,d,n)=>{var i,s,r,u,v;try{let s=await t.Z.patch("".concat(o,"/changeStatus2"),{id:a,driver:l,table:e,status:d,staff:n});return{success:!0,data:null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.data}}catch(a){return{success:!1,e:(null==a?void 0:null===(r=a.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.error)||(null==a?void 0:null===(v=a.response)||void 0===v?void 0:null===(u=v.data)||void 0===u?void 0:u.message)}}},changeStatus:async(a,l,e,d)=>{var n,i,s,r,u;try{let i=await t.Z.patch("".concat(o,"/changeStatus"),{id:a,status:l,table:e,staff:d});return{success:!0,data:null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.data}}catch(a){return{success:!1,e:(null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.error)||(null==a?void 0:null===(u=a.response)||void 0===u?void 0:null===(r=u.data)||void 0===r?void 0:r.message)}}},changeRegion:async(a,l,e,d)=>{var n,i,s,r,u;try{let i=await t.Z.patch("".concat(o,"/changeRegion"),{id:a,region:l,table:e,staff:d});return{success:!0,data:null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.data}}catch(a){return{success:!1,e:(null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.error)||(null==a?void 0:null===(u=a.response)||void 0===u?void 0:null===(r=u.data)||void 0===r?void 0:r.message)}}},changeRegionOrder:async(a,l)=>{var e,d,n,i,s;try{let d=await t.Z.patch("".concat(o,"/changeRegionOrder"),{id:a,region:l});return{success:!0,data:null==d?void 0:null===(e=d.data)||void 0===e?void 0:e.data}}catch(a){return{success:!1,e:(null==a?void 0:null===(n=a.response)||void 0===n?void 0:null===(d=n.data)||void 0===d?void 0:d.error)||(null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.message)}}},edit:async(a,l,e)=>{var d,n,i,s,r;try{let n=await t.Z.patch("".concat(o,"/editOrder"),{id:a,...l,staff:e});return{success:!0,data:null==n?void 0:null===(d=n.data)||void 0===d?void 0:d.data}}catch(a){return{success:!1,e:(null==a?void 0:null===(i=a.response)||void 0===i?void 0:null===(n=i.data)||void 0===n?void 0:n.error)||(null==a?void 0:null===(r=a.response)||void 0===r?void 0:null===(s=r.data)||void 0===s?void 0:s.message)}}},getById:async(a,l)=>{var e,d,n,i,s;try{let d=await t.Z.get("".concat(o,"/getById"),{params:{id:a,table:l}});return{success:!0,data:null==d?void 0:null===(e=d.data)||void 0===e?void 0:e.data}}catch(a){return{success:!1,e:(null==a?void 0:null===(n=a.response)||void 0===n?void 0:null===(d=n.data)||void 0===d?void 0:d.error)||(null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.message)}}},getOrderCustomer:async(a,l,e,d,i,s,r,u,v,c)=>{try{var p,g;let h=await t.Z.get("".concat(o,"/getOrderCustomer"),{params:{startLimit:a,endLimit:l,order:e,sort:d,search:i,value:s,startDate:r?n()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:u?n()(u).format("YYYY-MM-DD 23:59:59"):null,status:v,id:c}});return{success:!0,data:null==h?void 0:null===(p=h.data)||void 0===p?void 0:p.data,pagination:null==h?void 0:null===(g=h.data)||void 0===g?void 0:g.pagination}}catch(a){return{success:!1,e:a}}}}},60894:function(a,l,e){var t=e(18992);let d="/api/v1";l.Z={find:async()=>{try{var a;let l=await t.Z.get("".concat(d,"/region"));return{success:!0,data:null==l?void 0:null===(a=l.data)||void 0===a?void 0:a.data}}catch(a){return{success:!1,e:a}}},create:async(a,l)=>{var e,n,o,i,s;try{let n=await t.Z.post("".concat(d,"/createRegion"),{...a,staff:l});return{success:!0,data:null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.data}}catch(a){return{success:!1,e:(null==a?void 0:null===(o=a.response)||void 0===o?void 0:null===(n=o.data)||void 0===n?void 0:n.error)||(null==a?void 0:null===(s=a.response)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.message)}}}}},87412:function(a,l,e){var t=e(85893),d=e(98298),n=e(43681),o=e(60946),i=e(42099),s=e(36616),r=e(70140),u=e(47181),v=e(88198),c=e(67294),p=e(88767);l.Z=a=>{var l;let{opened:e,onClose:g,select:h,refetch:m,setSelect:Y,data:y,table:D}=a,[f,M]=(0,c.useState)(null===(l=y[0])||void 0===l?void 0:l.value),[Z,w]=(0,c.useState)(!1),{user:S}=(0,n.a)(),b=(0,p.useMutation)(["change-status"],()=>d.Z.changeStatus(h,f,D,null==S?void 0:S.last_name),{onSuccess(a){(null==a?void 0:a.success)===!0?(m(),g(),Y([]),(0,o.PV)({message:"Төлөв солигдлоо",status:!0})):(0,o.PV)({message:null==a?void 0:a.e,status:!1}),w(!1)}}),handleSumit=async a=>{a.preventDefault(),a.stopPropagation(),w(!0),await b.mutateAsync()};return(0,t.jsxs)(i.u,{opened:e,onClose:g,title:"Төлөв солих",className:"space-y-10",children:[(0,t.jsx)(s.P,{label:"Төлөвүүд",searchable:!0,clearable:!0,value:f,data:(y||[]).map(a=>{var l;return{value:null==a?void 0:null===(l=a.value)||void 0===l?void 0:l.toString(),label:(null==a?void 0:a.label)||""}}),onChange:a=>M(a)}),(0,t.jsx)(r.Z,{justify:"end",children:(0,t.jsx)(u.z,{leftSection:(0,t.jsx)(v.Z,{}),color:"#6A5ADF",radius:"md",className:"mt-4",type:"submit",onClick:a=>handleSumit(a),disabled:Z||(null==b?void 0:b.isLoading),loading:(null==b?void 0:b.isLoading)||Z,children:"Хадгалах"})})]})}}}]);