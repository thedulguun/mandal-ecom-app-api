"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4066],{46614:function(e,l,a){var s=a(18992),i=a(27484),t=a.n(i);let d="/api/v1";l.Z={find:async(e,l,a,i,o,n,r,c,u,v,m,h,x,g,p)=>{try{var y,j;let b=await s.Z.get("".concat(d,"/delivery"),{params:{startLimit:e,endLimit:l,order:a,sort:i,search:o,value:n,startDate:r?t()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:c?t()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,value1:v,value2:m,order1:h,order2:x,action:g,type:p}});return{success:!0,data:null==b?void 0:null===(y=b.data)||void 0===y?void 0:y.data,pagination:null==b?void 0:null===(j=b.data)||void 0===j?void 0:j.pagination}}catch(e){return{success:!1,e}}},findWithArchive:async(e,l,a,i,o,n,r,c,u,v,m,h,x,g)=>{try{var p,y;let j=await s.Z.get("".concat(d,"/deliveryWithArchive"),{params:{startLimit:e,endLimit:l,order:a,sort:i,search:o,value:n,startDate:r?t()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:c?t()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,value1:v,value2:m,order1:h,order2:x,action:g}});return{success:!0,data:null==j?void 0:null===(p=j.data)||void 0===p?void 0:p.data,pagination:null==j?void 0:null===(y=j.data)||void 0===y?void 0:y.pagination}}catch(e){return{success:!1,e}}},find_items_by_id:async e=>{var l,a,i,t,o;try{let a=await s.Z.get("".concat(d,"/getDelivery_items_by_id"),{params:{id:e}});return{success:!0,data:null==a?void 0:null===(l=a.data)||void 0===l?void 0:l.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.error)||(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.message)}}},getDelivery_items:async(e,l,a,i,t,o)=>{try{var n,r;let c=await s.Z.get("".concat(d,"/getDelivery_items"),{params:{startLimit:e,endLimit:l,order:a,sort:i,search:t,groupBy:o}});return{success:!0,data:null==c?void 0:null===(n=c.data)||void 0===n?void 0:n.data,pagination:null==c?void 0:null===(r=c.data)||void 0===r?void 0:r.pagination}}catch(e){return{success:!1,e}}},create:async(e,l)=>{var a,i,t,o,n;try{let i=await s.Z.post("".concat(d,"/createDelivery"),{...e,staff:l});return{success:!0,data:null==i?void 0:null===(a=i.data)||void 0===a?void 0:a.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(i=t.data)||void 0===i?void 0:i.error)||(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.message)}}},edit:async(e,l,a)=>{var i,t,o,n,r;try{let t=await s.Z.patch("".concat(d,"/editDelivery"),{id:e,...l,staff:a});return{success:!0,data:null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},editReceivedMoney:async(e,l,a)=>{var i,t,o,n,r;try{let t=await s.Z.patch("".concat(d,"/editReceivedMoney"),{id:e,money:l,staff:a});return{success:!0,data:null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},editDesc:async(e,l,a)=>{var i,t,o,n,r;try{let t=await s.Z.patch("".concat(d,"/editDesc"),{id:e,desc:l,field:a});return{success:!0,data:null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},verify:async(e,l,a)=>{var i,t,o,n,r;try{let t=await s.Z.patch("".concat(d,"/verify"),{id:e,verify:l,staff:a});return{success:!0,data:null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},getDeliveryrCustomer:async(e,l,a,i,o,n,r,c,u,v,m,h)=>{try{var x,g;let p=await s.Z.get("".concat(d,"/getDeliveryCustomer"),{params:{startLimit:e,endLimit:l,order:a,sort:i,search:o,value:n,startDate:r?t()(r).format("YYYY-MM-DD 00:00:00"):null,endDate:c?t()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,id:v,action:m,type:h}});return{success:!0,data:null==p?void 0:null===(x=p.data)||void 0===x?void 0:x.data,pagination:null==p?void 0:null===(g=p.data)||void 0===g?void 0:g.pagination}}catch(e){return{success:!1,e}}},importExcel:async(e,l)=>{var a,i,t,o,n,r;try{let t=new FormData;t.append("excelFile",e);let o=await s.Z.post("".concat(d,"/uploadExcelFile"),t,{params:{staff:l}});return{status:null==o?void 0:null===(a=o.data)||void 0===a?void 0:a.status,message:null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.message}}catch(e){return{status:null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.status,message:null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message}}},bulkPrint:async e=>{try{var l,a;let i=await s.Z.post("".concat(d,"/changeStatusQR"),{params:{id:e}});return{success:!0,data:null==i?void 0:null===(l=i.data)||void 0===l?void 0:l.data,pagination:null==i?void 0:null===(a=i.data)||void 0===a?void 0:a.pagination}}catch(e){return{success:!1,e}}},checkDeliveryList:async(e,l,a)=>{try{var i,t;let o=await s.Z.get("".concat(d,"/checkDelivery"),{params:{startLimit:e,endLimit:l,search:a}});return{success:!0,data:null==o?void 0:null===(i=o.data)||void 0===i?void 0:i.data,pagination:null==o?void 0:null===(t=o.data)||void 0===t?void 0:t.pagination}}catch(e){return{success:!1,e}}}}},72372:function(e,l,a){var s=a(18992);let i="/api/v1";l.Z={findOrder:async(e,l)=>{var a,t,d,o,n;try{let t=await s.Z.get("".concat(i,"/getByIdForPrint"),{params:{id:e,table:l}});return{success:!0,data:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(t=d.data)||void 0===t?void 0:t.error)||(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.message)}}},findGeneralDriver:async(e,l)=>{var a,t,d,o,n;try{let t=await s.Z.get("".concat(i,"/getPrintReportGeneralDriver"),{params:{id:e,table:l}});return{success:!0,data:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(t=d.data)||void 0===t?void 0:t.error)||(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.message)}}},findDelivery:async(e,l)=>{var a,t,d,o,n;try{let t=await s.Z.get("".concat(i,"/getByIdForPrintDelivery"),{params:{id:e,action:l}});return{success:!0,data:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(d=e.response)||void 0===d?void 0:null===(t=d.data)||void 0===t?void 0:t.error)||(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(o=n.data)||void 0===o?void 0:o.message)}}},findReportDriver:async(e,l,a)=>{var t,d,o,n,r;try{let d=await s.Z.get("".concat(i,"/getReportDriverExcel"),{params:{reported:e,id:l,action:a}});return{success:!0,data:null==d?void 0:null===(t=d.data)||void 0===t?void 0:t.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(d=o.data)||void 0===d?void 0:d.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},findReportCustomerExcel:async(e,l,a)=>{var t,d,o,n,r;try{let d=await s.Z.get("".concat(i,"/getReportCustomerExcel"),{params:{reported:e,id:l,action:a}});return{success:!0,data:null==d?void 0:null===(t=d.data)||void 0===t?void 0:t.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(d=o.data)||void 0===d?void 0:d.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},getReportWareSelect:async e=>{var l,a,t,d,o;try{let a=await s.Z.get("".concat(i,"/getReportWareSelect"),{params:{id:e}});return{success:!0,data:null==a?void 0:null===(l=a.data)||void 0===l?void 0:l.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.error)||(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(d=o.data)||void 0===d?void 0:d.message)}}}}},4066:function(e,l,a){a.r(l);var s=a(85893),i=a(86414),t=a(47181),d=a(102),o=a(36616),n=a(90589),r=a(23583),c=a(95085),u=a(90303),v=a(96034),m=a(95601),h=a(92256),x=a(15779),g=a(95124),p=a(67294),y=a(79153),j=a(21942),b=a(11163),f=a(60946),w=a(53907),D=a(88767),_=a(27484),N=a.n(_),C=a(26148),T=a(36199),Y=a(54073),k=a(43681),A=a(46614),Z=a(72372);l.default=()=>{var e,l,a,_;let[M,S]=(0,p.useState)([]),[F,R]=(0,p.useState)(""),E=(0,b.useRouter)(),[P,z]=(0,p.useState)(100),[W,I]=(0,p.useState)(0),[Q,V]=(0,p.useState)(0),[B,H]=(0,p.useState)(""),[L,q]=(0,p.useState)("asc"),[G,U]=(0,p.useState)(""),[X]=(0,w.c)(G,300),[K,O]=(0,p.useState)(null),[J,$]=(0,p.useState)(null),[ee,el]=(0,p.useState)(!1),[ea,es]=(0,p.useState)(null),[ei,et]=(0,p.useState)(""),{user:ed}=(0,k.a)(),[eo,en]=(0,p.useState)(!1),[er,ec]=(0,p.useState)(0),{data:eu,refetch:ev,isLoading:em,isFetching:eh}=(0,D.useQuery)(["report-customer-list",P,W,B,L,X,F,K,J,er],()=>(null==ed?void 0:ed.role)!=="customer"?T.Z.findCustomer(Q,P,B,L,X,F,K,J,0,er):T.Z.findCustomerByUser(Q,P,B,L,X,F,K,J,0,null==ed?void 0:ed.user_id,er)),{data:ex}=(0,D.useQuery)(["user-list"],()=>C.Z.find(),{enabled:ei.length>2}),handleCheckboxChange=e=>{S(l=>{if("selectAll"===e){var a;return l.length<(null==eu?void 0:null===(a=eu.data)||void 0===a?void 0:a.result.length)?null==eu?void 0:eu.data.result.map(e=>e.id):[]}return l.includes(e)?l.filter(l=>l!==e):[...l,e]})},{data:eg,refetch:ep}=(0,D.useQuery)(["total-money-true",P,W,B,L,X,F,K,J],()=>T.Z.getReportCustomerMoney(Q,P,B,L,X,F,K,J,0),{enabled:(null==ed?void 0:ed.role)!="customer"}),ey=(0,D.useMutation)(["report-sergeeh-customer"],()=>T.Z.reportDoneCustomer(M,null==ed?void 0:ed.last_name),{onSuccess(e){(null==e?void 0:e.success)===!0?(ev(),S([]),ep(),(0,f.PV)({message:"Тайлан нийллээ",status:!0})):(0,f.PV)({message:null==e?void 0:e.e,status:!1})}}),ej=(0,D.useMutation)(["edit-money"],e=>A.Z.editReceivedMoney(e,ea,null==ed?void 0:ed.last_name),{onSuccess(e){(null==e?void 0:e.success)===!0?(ev(),ep(),(0,f.PV)({message:"Авсан мөнгөн дүн өөрчлөгдлөө.",status:!0})):(0,f.PV)({message:null==e?void 0:e.e,status:!1})}}),{data:eb}=(0,D.useQuery)(["selected-data",M,er],()=>Z.Z.findReportCustomerExcel(0,M,er),{enabled:(null==M?void 0:M.length)>0}),getProductNames=e=>{var l,a;let s=((null==M?void 0:M.length)>0?null==eb?void 0:null===(l=eb.data)||void 0===l?void 0:l.resultItem:(null==eu?void 0:null===(a=eu.data)||void 0===a?void 0:a.resultItem)||[]).filter(l=>(null==l?void 0:l.delivery_id)==e).map(e=>"".concat(null==e?void 0:e.name," - ").concat(null==e?void 0:e.quantity));return s.join(", ")};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"bg-white rounded-xl p-3 h-[90vh]",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(f.bo,{text:"Харилцагчийн тайлан"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(i.o,{className:"w-40 sm:40",placeholder:"Хайх ...",value:G,onChange:e=>{U(e.target.value)},rightSection:(0,s.jsx)(y.Z,{color:"#6A5ADF",className:"cursor-pointer"})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(t.z,{color:"#6A5ADF",radius:9,leftSection:(0,s.jsx)("img",{src:"/icons/excel.svg",alt:"excel"}),onClick:()=>{en(e=>!e),ec(1)},children:"Excel"}),(0,s.jsx)(d.U,{in:eo,className:"absolute right-0 rounded-lg border border-indigo-300 space-y-2 p-3 w-44 h-auto bg-white z-40 font-bold text-sm text-indigo-600",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2 pb-2 border-b cursor-pointer",onClick:()=>(0,f.pq)("order-excel",((null==M?void 0:M.length)>0?null==eb?void 0:eb.data.result:null==eu?void 0:eu.data.result).map(e=>({Дэлгүүрийн_нэр:e.shop_name,Утас:e.cus_phone,Жолооч:e.driver_name||"",Хаяг:"".concat(e.city?null==e?void 0:e.city:""," ").concat(e.district?null==e?void 0:e.district:""," ").concat(e.committee?null==e?void 0:e.committee:""," ").concat(e.street?e.street:""," ").concat(e.toot?null==e?void 0:e.toot:""," ").concat(e.addition?null==e?void 0:e.addition:""),Төлөв:1==e.status?"Бүртгэгдсэн":2==e.status?"Хүлээн авсан":3==e.status?"Жолоочид хувиарласан":5==e.status?"Хүлээгдэж буй":10==e.status?"Хүргэгдсэн":11==e.status?"Цуцалсан":12==e.status?"Буцаасан":null,Мөнгөн_дүн:e.total_price||"",Авсан_мөнгө:e.received_money||"",Хүргэлт:(null==e?void 0:e.status)==11||(null==e?void 0:e.status)==12?0:Math.floor(null==e?void 0:e.price),Нэмэлт:(null==e?void 0:e.size)=="60x60x60"?5e3:0,Оператор:(null==e?void 0:e.operator)==1?1e3:0,Мессеж_үйлчилгээ:(null==e?void 0:e.send_message)==1&&(null==e?void 0:e.status)==10?22:0,Үүсгэсэн_огноо:N()(e.created_at).format("YYYY-MM-DD HH:mm"),Бараа:getProductNames(e.code),Барааны_нэмэлт_тайлбар:null==e?void 0:e.deli_desc,Жолоочийн_нэмэлт_тайлбар:null==e?void 0:e.driver_desc}))),children:[(0,s.jsx)("img",{src:"/icons/excel-color.svg",alt:"icon"}),(0,s.jsx)("p",{children:"Export to Excel"})]})})]})]})]}),(0,s.jsx)("div",{className:"border-b border-[#6A5ADF] w-full mt-2 mb-1"}),(0,s.jsxs)("div",{className:"relative sm:flex items-center mr-12 gap-4",children:[(0,s.jsx)("div",{className:"text-sm",children:(0,s.jsx)(Y.W,{label:"Эхлэх огноо",placeholder:"yyyy-mm-dd",valueFormat:"YYYY-MM-DD",value:K,onChange:O,clearable:!0})}),(0,s.jsx)("div",{className:"text-sm",children:(0,s.jsx)(Y.W,{label:"Дуусах огноо",placeholder:"yyyy-mm-dd",valueFormat:"YYYY-MM-DD",value:J,onChange:$,clearable:!0})}),(null==ed?void 0:ed.role)!=="customer"&&(0,s.jsx)(o.P,{label:"Харилцагч",searchable:!0,data:((null==ex?void 0:ex.data)||[]).filter(e=>(null==e?void 0:e.role)==="customer"&&(null==e?void 0:e.active)==1).map(e=>({value:null==e?void 0:e.shop_name.toString(),label:(null==e?void 0:e.shop_name)||""})),onSearchChange:e=>{et(e)},onChange:e=>{H("users.shop_name"),R(e),q("")},clearable:!0,placeholder:"Бүгд"}),(0,s.jsx)(o.P,{label:"Төлөв",data:[{label:"Бүгд",value:""},{label:"Жолоочид хуваарилсан",value:"3"},{label:"Хүлээгдэж буй",value:"5"},{label:"Хүргэгдсэн",value:"10"},{label:"Цуцалсан",value:"11"},{label:"Буцаасан",value:"12"}].map(e=>({value:null==e?void 0:e.value.toString(),label:(null==e?void 0:e.label)||""})),clearable:!0,onChange:e=>{H("delivery.status"),R(e),q("")},placeholder:"Бүгд"}),(null==ed?void 0:ed.role)!=="customer"&&(0,s.jsx)(n.Y,{label:"Нийт авсан мөнгө",disabled:!0,placeholder:"Нийт авсан дүн",className:"text-green-500",value:(null==eg?void 0:null===(e=eg.data)||void 0===e?void 0:e.total)||0,thousandSeparator:","}),(0,s.jsx)(r.u,{label:"Шүүлтүүр цэвэрлэх",children:(0,s.jsx)("div",{className:"mt-6 cursor-pointer p-1 rounded-sm border",onClick:()=>{H(""),q(""),R(""),O(null),$(null),E.reload()},children:(0,s.jsx)("img",{src:"/icons/filter-clear.svg",alt:"filterClear"})})})]}),(0,s.jsx)("div",{className:"border-1 border-b border-[#6A5ADF] mt-2"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.f,{visible:em||ey.isLoading}),(0,s.jsx)(u.x,{className:"h-[70vh]",color:"#6A5ADF",children:(0,s.jsxs)(v.i,{children:[(0,s.jsx)(v.i.Thead,{className:"sticky top-0 bg-white z-40",children:(0,s.jsxs)(v.i.Tr,{children:[(0,s.jsx)(v.i.Th,{className:"sticky left-0 bg-white",children:(0,s.jsx)(m.X,{checked:M.length===(null==eu?void 0:null===(l=eu.data)||void 0===l?void 0:l.result.length),onChange:()=>{handleCheckboxChange("selectAll"),ec(0)},color:"#6A5ADF"})}),(0,s.jsx)(v.i.Th,{children:"#"}),(0,s.jsx)(v.i.Th,{miw:150,children:(0,s.jsxs)("div",{className:"flex justify-between",children:["Огноо",(0,s.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{H("delivery.created_at"),"desc"===L?q("asc"):q("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,s.jsx)(v.i.Th,{miw:140,children:(0,s.jsxs)("div",{className:"flex justify-between",children:["Дэлгүүрийн нэр",(0,s.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{H("delivery.cus_name"),"desc"===L?q("asc"):q("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,s.jsx)(v.i.Th,{miw:130,children:(0,s.jsxs)("div",{className:"flex justify-between",children:["Утас",(0,s.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{H("delivery.cus_phone"),"desc"===L?q("asc"):q("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,s.jsx)(v.i.Th,{miw:100,children:(0,s.jsxs)("div",{className:"flex justify-between",children:["Жолооч",(0,s.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{H("delivery.driver_name"),"desc"===L?q("asc"):q("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,s.jsx)(v.i.Th,{miw:150,children:(0,s.jsxs)("div",{className:"flex justify-between",children:["Хүргэлт ID",(0,s.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{H("delivery.code"),"desc"===L?q("asc"):q("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,s.jsx)(v.i.Th,{miw:300,children:"Хаяг"}),(0,s.jsx)(v.i.Th,{miw:110,children:(0,s.jsxs)("div",{className:"flex justify-between",children:["Дүн",(0,s.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{H("delivery.total_price"),"desc"===L?q("asc"):q("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,s.jsx)(v.i.Th,{miw:110,children:(0,s.jsxs)("div",{className:"flex justify-between",children:["Авсан",(0,s.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{H("delivery.received_money"),"desc"===L?q("asc"):q("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,s.jsx)(v.i.Th,{miw:110,children:(0,s.jsxs)("div",{className:"flex justify-between",children:["Хүргэлт",(0,s.jsx)("img",{src:"/icons/sort.svg",alt:"sort",onClick:()=>{H("users.price"),"desc"===L?q("asc"):q("desc")},className:"cursor-pointer hover:bg-gray-100 hover:rounded-md"})]})}),(0,s.jsx)(v.i.Th,{miw:110,children:"Нэмэлт"}),(0,s.jsx)(v.i.Th,{miw:110,children:"Овор"}),(0,s.jsx)(v.i.Th,{miw:110,children:"Оператор"}),(0,s.jsx)(v.i.Th,{miw:110,children:"Мессеж"}),(0,s.jsx)(v.i.Th,{miw:90,children:"Төлөв"}),(0,s.jsx)(v.i.Th,{miw:200,children:"Нэмэлт тайлбар"}),(0,s.jsx)(v.i.Th,{className:"sticky right-0 bg-white",children:"Үйлдэл"})]})}),(0,s.jsx)(v.i.Tbody,{children:(null==eu?void 0:null===(a=eu.data)||void 0===a?void 0:a.result.length)>0?null==eu?void 0:null===(_=eu.data)||void 0===_?void 0:_.result.map((e,l)=>(0,s.jsxs)(v.i.Tr,{children:[(0,s.jsx)(v.i.Td,{className:"sticky left-0 bg-white",children:(0,s.jsx)(m.X,{color:"#6A5ADF",checked:M.includes(null==e?void 0:e.id),onChange:()=>{handleCheckboxChange(null==e?void 0:e.id),ec(0)}})}),(0,s.jsx)(v.i.Td,{children:l+1}),(0,s.jsx)(v.i.Td,{children:N()(null==e?void 0:e.created_at).format("YYYY/MM/DD HH:mm")}),(0,s.jsx)(v.i.Td,{maw:200,children:null==e?void 0:e.shop_name}),(0,s.jsx)(v.i.Td,{maw:200,children:null==e?void 0:e.cus_phone}),(0,s.jsx)(v.i.Td,{maw:200,children:null==e?void 0:e.driver_name}),(0,s.jsx)(v.i.Td,{maw:200,children:null==e?void 0:e.code}),(0,s.jsx)(v.i.Td,{maw:200,children:"".concat((null==e?void 0:e.city)||""," ").concat((null==e?void 0:e.district)||""," ").concat((null==e?void 0:e.committee)||""," ").concat((null==e?void 0:e.street)||""," ").concat((null==e?void 0:e.toot)||""," ").concat((null==e?void 0:e.addition)||"")}),(0,s.jsx)(v.i.Td,{children:(0,f.uf)(null==e?void 0:e.total_price)}),(0,s.jsx)(v.i.Td,{onClick:()=>(null==ed?void 0:ed.role)!=="customer"&&el(!0),children:ee?(0,s.jsx)("input",{defaultValue:(0,f.uf)(null==e?void 0:e.received_money)||0,onChange:e=>{es(e.target.value)},onKeyDown:l=>{"Enter"===l.key&&(null==ej||ej.mutateAsync(null==e?void 0:e.id),el(!1))}}):(0,s.jsx)(s.Fragment,{children:(0,f.uf)((null==e?void 0:e.received_money)||0)})}),(0,s.jsx)(v.i.Td,{children:(null==e?void 0:e.status)==11||(null==e?void 0:e.status)==12?0:(0,f.uf)(Math.floor(null==e?void 0:e.price))}),(0,s.jsx)(v.i.Td,{children:(null==e?void 0:e.type)=="Нэмэлт"?"5,000":0}),(0,s.jsx)(v.i.Td,{children:(null==e?void 0:e.size)=="60x60x60"?"5,000":0}),(0,s.jsx)(v.i.Td,{children:(null==e?void 0:e.operator)==1?"1,000":0}),(0,s.jsx)(v.i.Td,{children:(null==e?void 0:e.send_message)==1&&(null==e?void 0:e.status)==10?22:0}),(0,s.jsx)(v.i.Td,{children:(null==e?void 0:e.status)==3?(0,s.jsx)(h.C,{color:"yellow",children:"Жолоочид хуваарилсан"}):(null==e?void 0:e.status)==5?(0,s.jsx)(h.C,{color:"black",children:"Хүлээгдэж буй"}):(null==e?void 0:e.status)==10?(0,s.jsx)(h.C,{color:"green",children:"Хүргэгдсэн"}):(null==e?void 0:e.status)==11?(0,s.jsx)(h.C,{color:"#F5627E",children:"Цуцалсан"}):(null==e?void 0:e.status)==12?(0,s.jsx)(h.C,{color:"#FB4242",children:"Буцаасан"}):null}),(0,s.jsx)(v.i.Td,{children:null==e?void 0:e.deli_desc}),(0,s.jsx)(v.i.Td,{className:"flex justify-center items-center space-x-2 sticky right-0 bg-white",children:(0,s.jsx)(x.A,{color:"yellow",size:"md",radius:7,onClick:()=>{E.push("/report/customer/".concat(null==e?void 0:e.id))},children:(0,s.jsx)(r.u,{label:"Засах",children:(0,s.jsx)(j.Z,{size:"1.3rem"})})})})]},"orderData-".concat(l))):(0,s.jsx)(v.i.Tr,{children:(0,s.jsx)(v.i.Td,{colSpan:12,className:"text-center",children:"Мэдээлэл олдсонгүй"})})})]})}),(0,s.jsx)("div",{className:"border-b border-[#6A5ADF] w-full my-1"}),(0,s.jsxs)("div",{className:"flex justify-between items-center my-1",children:[(0,s.jsxs)("p",{className:"text-sm text-[#6A5ADF]",children:["Нийт ",null==M?void 0:M.length," мөр сонгосон байна"]}),(0,s.jsxs)("p",{className:"flex items-center text-sm text-[#6A5ADF]",children:["Нэг хуудсанд харуулах мөрийн тоо",(0,s.jsxs)("select",{className:"w-12 rounded-md ml-2 pl-0.5 h-6 border border-[#6A5ADF]",onChange:e=>{z(e.target.value),I(0),V(0)},children:[(0,s.jsx)("option",{value:"100",children:"100"}),(0,s.jsx)("option",{value:"250",children:"250"}),(0,s.jsx)("option",{value:"500",children:"500"}),(0,s.jsx)("option",{value:"1000",children:"1000"})]})]})]}),(0,s.jsxs)("div",{className:"sm:flex my-4 items-center justify-between",children:[(0,s.jsx)("div",{className:"sm:flex gap-4",children:(0,s.jsx)(t.z,{leftSection:(0,s.jsx)("img",{src:"/icons/list.svg",alt:"list"}),color:"#6A5ADF",radius:9,onClick:async e=>{e.preventDefault(),e.stopPropagation(),await ey.mutateAsync()},disabled:M.length<=0||ey.isLoading,children:"Тайлан нийлэх"})}),(0,s.jsx)(g.t,{value:W+1,siblings:2,total:Math.floor((null==eu?void 0:eu.pagination)/P)+((null==eu?void 0:eu.pagination)%P==0?0:1),onChange:e=>{I(e-1),V(e*P-P)},color:"#6A5ADF"})]})]})]})})}}}]);