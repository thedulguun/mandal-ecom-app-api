(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8488],{85564:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/resetPassword",function(){return s(79560)}])},79560:function(e,r,s){"use strict";s.r(r);var t=s(85893),o=s(26148),a=s(43681),n=s(34085),l=s(25130),i=s(60946),p=s(86414),c=s(70140),d=s(47181),u=s(10330),_=s(88198),f=s(11163),P=s(67294),m=s(88767);let ResetPassword=()=>{let e=(0,f.useRouter)(),{user:r}=(0,a.a)(),[s,n]=(0,P.useState)(!1),l=(0,u.c)({initialValues:{oldPassword:"",newPassword:""},validate:{oldPassword:e=>(null==e?void 0:e.length)<=0?"Хуучин нууц үг оруулна уу.":null,newPassword:e=>(null==e?void 0:e.length)<=0?"Шинэ нууц үг оруулна уу.":(null==e?void 0:e.length)<=6?"Дор хаяж 6 үсэг оруулна уу.":null}}),b=(0,m.useMutation)(["edit-password"],e=>o.Z.changePassword(e,null==r?void 0:r.user_id,null==r?void 0:r.last_name),{onSuccess(r){(null==r?void 0:r.success)===!0?(e.back(),(0,i.PV)({message:"Нууц үг шинэчлэгдлээ.",status:!0})):(0,i.PV)({message:null==r?void 0:r.e,status:!1})}}),handleSubmit=e=>{null==b||b.mutateAsync(e)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-indigo-600",children:[(0,t.jsxs)("div",{className:"flex items-center bg-indigo-200 rounded-md py-1.5 px-2.5 space-x-1.5 cursor-pointer",onClick:()=>e.back(),children:[(0,t.jsx)("img",{src:"/icons/arrow-left.svg",alt:"left",className:"w-5"}),(0,t.jsx)("p",{className:"font-semibold text-sm",children:"Буцах"})]}),(0,t.jsx)("p",{className:"font-bold",children:"Нууц үг солих"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl w-1/2 h-[660px] mt-6 px-8 py-5",children:(0,t.jsxs)("form",{onSubmit:l.onSubmit(e=>handleSubmit(e)),className:"space-y-6",children:[(0,t.jsx)(p.o,{type:"".concat(s?"text":"password"),label:"Хуучин нууц үг",placeholder:"Нууц үг",leftSection:(0,t.jsx)("img",{src:"/icons/password.svg",color:"#6A5ADF",alt:"icon"}),...l.getInputProps("oldPassword"),rightSection:(0,t.jsx)("img",{onClick:()=>n(e=>!e),src:"/landing-page/eyeOff.svg",alt:"icon",className:"w-5 cursor-pointer"})}),(0,t.jsx)(p.o,{type:"".concat(s?"text":"password"),label:"Шинэ нууц үг",placeholder:"Нууц үг",leftSection:(0,t.jsx)("img",{src:"/icons/password.svg",color:"#6A5ADF",alt:"icon"}),...l.getInputProps("newPassword"),rightSection:(0,t.jsx)("img",{onClick:()=>n(e=>!e),src:"/landing-page/eyeOff.svg",alt:"icon",className:"w-5 cursor-pointer"})}),(0,t.jsx)(c.Z,{justify:"end",children:(0,t.jsx)(d.z,{leftSection:(0,t.jsx)(_.Z,{}),color:"#6A5ADF",radius:"md",type:"submit",children:"Хадгалах"})})]})})]})};r.default=ResetPassword,ResetPassword.getLayout=e=>(0,t.jsx)(n.Z,{canSee:[l.K.ADMIN,l.K.CUSTOMER,l.K.MANAGER,l.K.NYAGTLAN,l.K.NYARAV,l.K.OPERATOR],children:e})},77403:function(e,r,s){"use strict";s.d(r,{k:function(){return useInputProps}});var t=s(90987),o=s(95494),a=Object.defineProperty,n=Object.defineProperties,l=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,s)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,__spreadValues=(e,r)=>{for(var s in r||(r={}))p.call(r,s)&&__defNormalProp(e,s,r[s]);if(i)for(var s of i(r))c.call(r,s)&&__defNormalProp(e,s,r[s]);return e},__spreadProps=(e,r)=>n(e,l(r)),__objRest=(e,r)=>{var s={};for(var t in e)p.call(e,t)&&0>r.indexOf(t)&&(s[t]=e[t]);if(null!=e&&i)for(var t of i(e))0>r.indexOf(t)&&c.call(e,t)&&(s[t]=e[t]);return s};function useInputProps(e,r,s){let a=(0,t.w)(e,r,s),{label:n,description:l,error:i,required:p,classNames:c,styles:d,className:u,unstyled:_,__staticSelector:f,__stylesApiProps:P,errorProps:m,labelProps:b,descriptionProps:w,wrapperProps:y,id:j,size:O,style:g,inputContainer:x,inputWrapperOrder:v,withAsterisk:N,variant:h,vars:A}=a,S=__objRest(a,["label","description","error","required","classNames","styles","className","unstyled","__staticSelector","__stylesApiProps","errorProps","labelProps","descriptionProps","wrapperProps","id","size","style","inputContainer","inputWrapperOrder","withAsterisk","variant","vars"]),{styleProps:I,rest:V}=(0,o.c)(S),E=__spreadValues({label:n,description:l,error:i,required:p,classNames:c,className:u,__staticSelector:f,__stylesApiProps:P||a,errorProps:m,labelProps:b,descriptionProps:w,unstyled:_,styles:d,size:O,style:g,inputContainer:x,inputWrapperOrder:v,withAsterisk:N,variant:h,id:j},y);return __spreadProps(__spreadValues({},V),{classNames:c,styles:d,unstyled:_,wrapperProps:__spreadValues(__spreadValues({},E),I),inputProps:{required:p,classNames:c,styles:d,unstyled:_,size:O,__staticSelector:f,__stylesApiProps:P||a,error:i,variant:h,id:j}})}},12440:function(e,r,s){"use strict";s.d(r,{M:function(){return f}});var t=s(67294),o=s(77403),a=s(19604),n=s(43362),l=Object.defineProperty,i=Object.defineProperties,p=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,s)=>r in e?l(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,__spreadValues=(e,r)=>{for(var s in r||(r={}))d.call(r,s)&&__defNormalProp(e,s,r[s]);if(c)for(var s of c(r))u.call(r,s)&&__defNormalProp(e,s,r[s]);return e},__spreadProps=(e,r)=>i(e,p(r)),__objRest=(e,r)=>{var s={};for(var t in e)d.call(e,t)&&0>r.indexOf(t)&&(s[t]=e[t]);if(null!=e&&c)for(var t of c(e))0>r.indexOf(t)&&u.call(e,t)&&(s[t]=e[t]);return s};let _={__staticSelector:"InputBase",withAria:!0},f=(0,n.b)((e,r)=>{let s=(0,o.k)("InputBase",_,e),{inputProps:n,wrapperProps:l}=s,i=__objRest(s,["inputProps","wrapperProps"]);return t.createElement(a.I.Wrapper,__spreadValues({},l),t.createElement(a.I,__spreadProps(__spreadValues(__spreadValues({},n),i),{ref:r})))});f.classes=__spreadValues(__spreadValues({},a.I.classes),a.I.Wrapper.classes),f.displayName="@mantine/core/InputBase"},86414:function(e,r,s){"use strict";s.d(r,{o:function(){return f}});var t=s(67294),o=s(12440),a=s(9535),n=s(90987),l=Object.defineProperty,i=Object.defineProperties,p=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,s)=>r in e?l(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,__spreadValues=(e,r)=>{for(var s in r||(r={}))d.call(r,s)&&__defNormalProp(e,s,r[s]);if(c)for(var s of c(r))u.call(r,s)&&__defNormalProp(e,s,r[s]);return e},__spreadProps=(e,r)=>i(e,p(r));let _={},f=(0,a.d)((e,r)=>{let s=(0,n.w)("TextInput",_,e);return t.createElement(o.M,__spreadProps(__spreadValues({component:"input",ref:r},s),{__staticSelector:"TextInput"}))});f.classes=o.M.classes,f.displayName="@mantine/core/TextInput"}},function(e){e.O(0,[2251,5471,3062,9604,330,2929,6148,9774,2888,179],function(){return e(e.s=85564)}),_N_E=e.O()}]);