(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4310],{16460:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkDelivery",function(){return a(48544)}])},46614:function(e,l,a){"use strict";var s=a(18992),t=a(27484),i=a.n(t);let d="/api/v1";l.Z={find:async(e,l,a,t,n,r,o,c,u,v,p,m,x,h,f)=>{try{var y,g;let b=await s.Z.get("".concat(d,"/delivery"),{params:{startLimit:e,endLimit:l,order:a,sort:t,search:n,value:r,startDate:o?i()(o).format("YYYY-MM-DD 00:00:00"):null,endDate:c?i()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,value1:v,value2:p,order1:m,order2:x,action:h,type:f}});return{success:!0,data:null==b?void 0:null===(y=b.data)||void 0===y?void 0:y.data,pagination:null==b?void 0:null===(g=b.data)||void 0===g?void 0:g.pagination}}catch(e){return{success:!1,e}}},findWithArchive:async(e,l,a,t,n,r,o,c,u,v,p,m,x,h)=>{try{var f,y;let g=await s.Z.get("".concat(d,"/deliveryWithArchive"),{params:{startLimit:e,endLimit:l,order:a,sort:t,search:n,value:r,startDate:o?i()(o).format("YYYY-MM-DD 00:00:00"):null,endDate:c?i()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,value1:v,value2:p,order1:m,order2:x,action:h}});return{success:!0,data:null==g?void 0:null===(f=g.data)||void 0===f?void 0:f.data,pagination:null==g?void 0:null===(y=g.data)||void 0===y?void 0:y.pagination}}catch(e){return{success:!1,e}}},find_items_by_id:async e=>{var l,a,t,i,n;try{let a=await s.Z.get("".concat(d,"/getDelivery_items_by_id"),{params:{id:e}});return{success:!0,data:null==a?void 0:null===(l=a.data)||void 0===l?void 0:l.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.error)||(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.message)}}},getDelivery_items:async(e,l,a,t,i,n)=>{try{var r,o;let c=await s.Z.get("".concat(d,"/getDelivery_items"),{params:{startLimit:e,endLimit:l,order:a,sort:t,search:i,groupBy:n}});return{success:!0,data:null==c?void 0:null===(r=c.data)||void 0===r?void 0:r.data,pagination:null==c?void 0:null===(o=c.data)||void 0===o?void 0:o.pagination}}catch(e){return{success:!1,e}}},create:async(e,l)=>{var a,t,i,n,r;try{let t=await s.Z.post("".concat(d,"/createDelivery"),{...e,staff:l});return{success:!0,data:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.error)||(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.message)}}},edit:async(e,l,a)=>{var t,i,n,r,o;try{let i=await s.Z.patch("".concat(d,"/editDelivery"),{id:e,...l,staff:a});return{success:!0,data:null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.error)||(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.message)}}},editReceivedMoney:async(e,l,a)=>{var t,i,n,r,o;try{let i=await s.Z.patch("".concat(d,"/editReceivedMoney"),{id:e,money:l,staff:a});return{success:!0,data:null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.error)||(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.message)}}},editDesc:async(e,l,a)=>{var t,i,n,r,o;try{let i=await s.Z.patch("".concat(d,"/editDesc"),{id:e,desc:l,field:a});return{success:!0,data:null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.error)||(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.message)}}},verify:async(e,l,a)=>{var t,i,n,r,o;try{let i=await s.Z.patch("".concat(d,"/verify"),{id:e,verify:l,staff:a});return{success:!0,data:null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.data}}catch(e){return{success:!1,e:(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.error)||(null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.message)}}},getDeliveryrCustomer:async(e,l,a,t,n,r,o,c,u,v,p,m)=>{try{var x,h;let f=await s.Z.get("".concat(d,"/getDeliveryCustomer"),{params:{startLimit:e,endLimit:l,order:a,sort:t,search:n,value:r,startDate:o?i()(o).format("YYYY-MM-DD 00:00:00"):null,endDate:c?i()(c).format("YYYY-MM-DD 23:59:59"):null,status:u,id:v,action:p,type:m}});return{success:!0,data:null==f?void 0:null===(x=f.data)||void 0===x?void 0:x.data,pagination:null==f?void 0:null===(h=f.data)||void 0===h?void 0:h.pagination}}catch(e){return{success:!1,e}}},importExcel:async(e,l)=>{var a,t,i,n,r,o;try{let i=new FormData;i.append("excelFile",e);let n=await s.Z.post("".concat(d,"/uploadExcelFile"),i,{params:{staff:l}});return{status:null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.status,message:null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.message}}catch(e){return{status:null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.status,message:null==e?void 0:null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.message}}},bulkPrint:async e=>{try{var l,a;let t=await s.Z.post("".concat(d,"/changeStatusQR"),{params:{id:e}});return{success:!0,data:null==t?void 0:null===(l=t.data)||void 0===l?void 0:l.data,pagination:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.pagination}}catch(e){return{success:!1,e}}},checkDeliveryList:async(e,l,a)=>{try{var t,i;let n=await s.Z.get("".concat(d,"/checkDelivery"),{params:{startLimit:e,endLimit:l,search:a}});return{success:!0,data:null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.data,pagination:null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.pagination}}catch(e){return{success:!1,e}}}}},18992:function(e,l,a){"use strict";var s=a(5121),t=a(67850);let i=s.Z.create({baseURL:"https://api.ebuuhia.mn",headers:{"Cache-Control":"no-cache",Pragma:"no-cache",Expires:"0"}});i.interceptors.request.use(async e=>{let l=t.Z.get("token");return l&&(e.headers.Authorization=l&&"".concat(l)),e.headers["accept-language"]="mn",e},e=>Promise.reject(e)),l.Z=i},48544:function(e,l,a){"use strict";a.r(l);var s=a(85893),t=a(46614),i=a(95085),d=a(53907),n=a(27484),r=a.n(n),o=a(11163),c=a(67294),u=a(88767);l.default=()=>{var e;let l=(0,o.useRouter)(),[a,n]=(0,c.useState)(),[v]=(0,d.c)(a,400),[p,m]=(0,c.useState)(1e3),[x,h]=(0,c.useState)(0),[f,y]=(0,c.useState)(0),{data:g,isLoading:b,isFetching:j}=(0,u.useQuery)(["delivery-list",p,x,v],()=>t.Z.checkDeliveryList(f,p,v),{enabled:!!a});return(0,s.jsxs)("div",{className:"container mx-auto mt-4",children:[(0,s.jsxs)("div",{className:"sm:flex block items-center h-12 justify-between",children:[(0,s.jsxs)("div",{className:"items-center sm:ml-0 ml-4 cursor-pointer sm:flex hidden",onClick:()=>l.push("/"),children:[(0,s.jsx)("img",{src:"/logo.svg",className:"h-14",alt:"logo"}),(0,s.jsx)("h1",{className:"pl-4 text-[18px] font-extrabold text-[#4334B4]",children:"Буухиа элч"})]}),(0,s.jsxs)("div",{className:"flex items-center h-full mt-2 gap-4 sm:mx-0 mx-2",children:[(0,s.jsx)("input",{type:"text",className:"w-[400px] h-full bg-white rounded-[48px] border-2 border-indigo-500 opacity-40  placeholder:text-zinc-900 placeholder:opacity-40 pl-6 placeholder:text-[13px]",placeholder:"Энд оруулна уу...",onChange:e=>n(e.target.value)}),(0,s.jsx)("div",{className:"cursor-pointer flex justify-center items-center h-full text-white font-semibold w-[134px] bg-indigo-500 rounded-[48px] border-4 border-indigo-500/opacity-40 text-[13px]",children:"Шалгах"})]})]}),(0,s.jsx)(i.f,{visible:b||j}),(null==g?void 0:g.pagination)>0?(0,s.jsx)("div",{className:"flex flex-col items-center mt-14 space-y-8",children:null==g?void 0:null===(e=g.data)||void 0===e?void 0:e.map(e=>(0,s.jsxs)("div",{className:"border rounded-xl w-full 2xl:h-[420px] xl:h-[420px] sm:h-full p-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("img",{src:"/icons/CheckDelivery.svg",alt:""}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("p",{className:"text-zinc-900 text-xl",children:"Биднийг сонгосон Баярлалаа"}),(0,s.jsxs)("div",{className:"flex items-center space-x-7 text-sm",children:[(0,s.jsx)("p",{className:"font-bold",children:"Хүргэлтийн дугаар"}),(0,s.jsx)("p",{children:null==e?void 0:e.code})]})]})]}),(0,s.jsxs)("div",{className:"w-full h-[124px] px-14 bg-blue-50 rounded-xl my-5 flex items-center justify-center",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2 w-full",children:[(0,s.jsx)("p",{className:"font-semibold text-indigo-500 text-xs",children:"Хүргэлт үүссэн"}),(0,s.jsx)("div",{className:"rounded-full h-4 w-4 bg-indigo-700"}),(0,s.jsx)("p",{className:"text-[10px]",children:r()(null==e?void 0:e.created_at).format("YYYY/MM/DD HH:mm")})]}),(0,s.jsx)("div",{className:"w-full h-[0px] border-b border-dashed border-indigo-500"}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2 w-full",children:[(0,s.jsx)("p",{className:"font-semibold text-indigo-500 text-xs",children:"Хүлээн авсан"}),(0,s.jsx)("div",{className:"rounded-full h-4 w-4 ".concat((null==e?void 0:e.status)==2||(null==e?void 0:e.status)==3||(null==e?void 0:e.status)==5||(null==e?void 0:e.status)==10||(null==e?void 0:e.status)==11||(null==e?void 0:e.status)==12?"bg-indigo-700":"border-indigo-700 border")})]}),(0,s.jsx)("div",{className:"w-full h-[0px] border-b border-dashed border-indigo-500"}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2 w-full",children:[(0,s.jsx)("p",{className:"font-semibold text-indigo-500 text-xs",children:"Жолоочид хувиарласан"}),(0,s.jsx)("div",{className:"rounded-full h-4 w-4 ".concat((null==e?void 0:e.status)==3||(null==e?void 0:e.status)==5||(null==e?void 0:e.status)==10||(null==e?void 0:e.status)==11||(null==e?void 0:e.status)==12?"bg-indigo-700":"border-indigo-700 border")})]}),(0,s.jsx)("div",{className:"w-full h-[0px] border-b border-dashed border-indigo-500"}),(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2 w-full",children:[(0,s.jsx)("p",{className:"font-semibold text-indigo-500 text-xs",children:(null==e?void 0:e.status)==10?(0,s.jsx)("p",{className:"text-green-400",children:"Хүргэгдсэн"}):(null==e?void 0:e.status)==11?(0,s.jsx)("p",{className:"text-red-400",children:"Цуцалсан"}):(null==e?void 0:e.status)==12?(0,s.jsx)("p",{className:"text-pink-400",children:"Буцаасан"}):"Хүлээгдэж буй"}),(0,s.jsx)("div",{className:"rounded-full h-4 w-4 ".concat((null==e?void 0:e.status)==5||(null==e?void 0:e.status)==10||(null==e?void 0:e.status)==11||(null==e?void 0:e.status)==12?"bg-indigo-700":"border-indigo-700 border")})]})]}),(0,s.jsxs)("div",{className:"grid 2xl:grid-cols-2 xl:grid-cols-2 sm:grid-cols-1 gap-10 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{className:"font-bold",children:"Хаанаас"}),(0,s.jsx)("p",{children:null==e?void 0:e.shop_name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{className:"font-bold",children:"Хэнд"}),(0,s.jsx)("p",{children:null==e?void 0:e.cus_name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{className:"font-bold",children:"Холбогдох дугаар:"}),(0,s.jsxs)("p",{children:[null==e?void 0:e.cus_phone," ",null==e?void 0:e.cus_phone1]})]}),(0,s.jsx)("div",{className:"w-full mt-4 h-[0px] border-b border-zinc-900 opacity-20"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold mb-1",children:"Хаяг нэмэлт мэдээлэл"}),(0,s.jsx)("p",{children:(null==e?void 0:e.addition)||""}),(0,s.jsx)("div",{className:"w-full mt-4 h-[0px] border-b border-zinc-900 opacity-20"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold mb-1",children:"Хаяг"}),(0,s.jsxs)("p",{children:[(null==e?void 0:e.city)||""," ",(null==e?void 0:e.district)||"",(null==e?void 0:e.committee)||"",(null==e?void 0:e.town)||"",(null==e?void 0:e.street)||"",(null==e?void 0:e.toot)||""]}),(0,s.jsx)("div",{className:"w-full mt-4 h-[0px] border-b border-zinc-900 opacity-20"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold mb-1",children:"Барааны нэмэлт тайлбар"}),(0,s.jsx)("p",{children:(null==e?void 0:e.deli_desc)||""}),(0,s.jsx)("div",{className:"w-full mt-4 h-[0px] border-b border-zinc-900 opacity-20"})]})]})]},"check=delivery=".concat(null==e?void 0:e.id)))}):(0,s.jsxs)("div",{className:"flex flex-col items-center mt-40",children:[(0,s.jsx)("img",{alt:"noting found",src:"/icons/no-data.svg",className:"w-60 mt-10"}),(0,s.jsx)("div",{className:"text-center text-zinc-900 text-opacity-40 text-xl mt-4 w-[400px]",children:"Та хүргэлтийн эсвэл утасны дугаараар хайж бараагаа шалгах боломжтой"})]})]})}},95085:function(e,l,a){"use strict";a.d(l,{f:function(){return N}});var s=a(67294),t={root:"m-6e45937b",loader:"m-e8eb006c",overlay:"m-df587f17"},i=a(50427),d=a(25784),n=a(49266),r=a(9535),o=a(90987),c=a(65984),u=a(39581),v=a(83050),p=a(27045),m=a(13637),x=Object.defineProperty,h=Object.defineProperties,f=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,l,a)=>l in e?x(e,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[l]=a,__spreadValues=(e,l)=>{for(var a in l||(l={}))g.call(l,a)&&__defNormalProp(e,a,l[a]);if(y)for(var a of y(l))b.call(l,a)&&__defNormalProp(e,a,l[a]);return e},__spreadProps=(e,l)=>h(e,f(l)),__objRest=(e,l)=>{var a={};for(var s in e)g.call(e,s)&&0>l.indexOf(s)&&(a[s]=e[s]);if(null!=e&&y)for(var s of y(e))0>l.indexOf(s)&&b.call(e,s)&&(a[s]=e[s]);return a};let j={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:(0,p.w)("overlay")},_=(0,m.Z)((e,{zIndex:l})=>({root:{"--lo-z-index":null==l?void 0:l.toString()}})),N=(0,r.d)((e,l)=>{let a=(0,o.w)("LoadingOverlay",j,e),{classNames:r,className:p,style:m,styles:x,unstyled:h,vars:f,transitionProps:y,loaderProps:g,overlayProps:b,visible:N,zIndex:w}=a,D=__objRest(a,["classNames","className","style","styles","unstyled","vars","transitionProps","loaderProps","overlayProps","visible","zIndex"]),Y=(0,c.rZ)(),P=(0,u.y)({name:"LoadingOverlay",classes:t,props:a,className:p,style:m,classNames:r,styles:x,unstyled:h,vars:f,varsResolver:_}),Z=__spreadValues(__spreadValues({},j.overlayProps),b);return s.createElement(i.u,__spreadProps(__spreadValues({transition:"fade"},y),{mounted:!!N}),e=>s.createElement(v.x,__spreadValues(__spreadProps(__spreadValues({},P("root",{style:e})),{ref:l}),D),s.createElement(d.a,__spreadValues(__spreadProps(__spreadValues({},P("loader")),{unstyled:h}),g)),s.createElement(n.a,__spreadProps(__spreadValues(__spreadValues({},Z),P("overlay")),{"data-light":!0,unstyled:h,color:(null==b?void 0:b.color)||Y.white})),s.createElement(n.a,__spreadProps(__spreadValues(__spreadValues({},Z),P("overlay")),{"data-dark":!0,unstyled:h,color:(null==b?void 0:b.color)||Y.colors.dark[5]}))))});N.classes=t,N.displayName="@mantine/core/LoadingOverlay"},53907:function(e,l,a){"use strict";a.d(l,{c:function(){return useDebouncedValue}});var s=a(67294);function useDebouncedValue(e,l,a={leading:!1}){let[t,i]=(0,s.useState)(e),d=(0,s.useRef)(!1),n=(0,s.useRef)(null),r=(0,s.useRef)(!1),cancel=()=>window.clearTimeout(n.current);return(0,s.useEffect)(()=>{d.current&&(!r.current&&a.leading?(r.current=!0,i(e)):(cancel(),n.current=window.setTimeout(()=>{r.current=!1,i(e)},l)))},[e,a.leading,l]),(0,s.useEffect)(()=>(d.current=!0,cancel),[]),[t,cancel]}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=16460)}),_N_E=e.O()}]);